CREATE TABLE Roles(
    role_id int NOT NULL primary key,
    role_name character varying(100)
) 
Insert into Roles (role_id,role_name) values (1,'Admin')
Insert into Roles (role_id,role_name) values (2,'Manager Course')
Insert into Roles (role_id,role_name) values (3,'Manager Categories')
Insert into Roles (role_id,role_name) values (4,'Teacher')
Insert into Roles (role_id,role_name) values (5,'User')

CREATE TABLE Accounts(
    account_id int GENERATED BY DEFAULT AS IDENTITY 
    (START WITH 100000 INCREMENT BY 1) NOT NULL primary key,
    role_id int,
    email character varying(100),
	full_name character varying(255),
	gender character varying(10),
	enable BOOLEAN,
	avatar character varying(100),
	auth_provider character varying(50),
	 FOREIGN KEY (role_id) REFERENCES Roles(role_id)
)
CREATE TABLE LevelCourse(
    lc_id int  GENERATED BY DEFAULT AS IDENTITY NOT NULL primary key,
    level_name varchar(255)
	
)

CREATE TABLE GeneralCourse(
    general_course_id int  GENERATED BY DEFAULT AS IDENTITY NOT NULL primary key,
	lc_id int ,
	manager_id int,
	name_general_course varchar(500),
	des_general_course varchar(2000),
	price_course int,
    create_date "timestamp" ,
	FOREIGN KEY (lc_id) REFERENCES LevelCourse(lc_id)
)
CREATE TABLE Course(
   course_id int  GENERATED BY DEFAULT AS IDENTITY NOT NULL primary key,
	general_course_id int ,
	name_course varchar(500),
	des_course varchar(1000),
    create_date "timestamp",
	FOREIGN KEY (general_course_id) REFERENCES GeneralCourse(general_course_id)
	)
CREATE TABLE VoteGeneralCourse(
    vote_course_id int  GENERATED BY DEFAULT AS IDENTITY NOT NULL primary key,
	general_course_id int,
	account_id int,
    date_vote "timestamp",
	number_star int,
	FOREIGN KEY (general_course_id) REFERENCES GeneralCourse(general_course_id),
	FOREIGN KEY (account_id) REFERENCES Accounts(account_id)
)
CREATE TABLE ListStudent(
	account_id int not null,
	general_course_id int not null,
	start_date "timestamp",
	end_date "timestamp",
PRIMARY KEY (account_id,general_course_id),
  FOREIGN KEY (account_id) REFERENCES Accounts(account_id),
  FOREIGN KEY (general_course_id) REFERENCES GeneralCourse(general_course_id)
)
CREATE TABLE ListTeacher(
	account_id int not null,
	general_course_id int not null,
PRIMARY KEY (account_id,general_course_id),
  FOREIGN KEY (account_id) REFERENCES Accounts(account_id),
  FOREIGN KEY (general_course_id) REFERENCES GeneralCourse(general_course_id)
)
CREATE TABLE Lesson(
    lesson_id int  GENERATED BY DEFAULT AS IDENTITY NOT NULL primary key,
	course_id int,
	teacher_id int,
    video_lesson varchar(100),
	time_video "time",
	date_lesson "timestamp",
	des_lesson varchar(3000),
	FOREIGN KEY (course_id) REFERENCES Course(course_id)
)




